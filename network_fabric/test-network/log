[0;34mCreating channel 'mychannel'.[0m
[0;34mIf network is not up, starting nodes with CLI timeout of '5' tries and CLI delay of '3' seconds and using database 'leveldb with crypto from 'Certificate Authorities'[0m
[0;34mBringing up network[0m
[0;34mLOCAL_VERSION=2.2.0[0m
[0;34mDOCKER_IMAGE_VERSION=2.2.0[0m
[0;34mCA_LOCAL_VERSION=1.5.2[0m
[0;34mCA_DOCKER_IMAGE_VERSION=1.5.2[0m
[0;34mGenerating certificates using Fabric CA[0m
Container ca_orderer  Creating
Container ca_org1  Creating
Container ca_org2  Creating
Container ca_orderer  Created
Container ca_org1  Created
Container ca_org2  Created
Container ca_orderer  Starting
Container ca_org1  Starting
Container ca_org2  Starting
Container ca_org2  Started
Container ca_org1  Started
Container ca_orderer  Started
[0;34mCreating Org1 Identities[0m
[0;34mEnrolling the CA admin[0m
+ fabric-ca-client enroll -u https://admin:adminpw@localhost:7054 --caname ca-org1 --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org1/tls-cert.pem
2022/04/16 05:33:06 [INFO] Created a default configuration file at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:06 [INFO] TLS Enabled
2022/04/16 05:33:06 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:06 [INFO] encoded CSR
2022/04/16 05:33:06 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/msp/signcerts/cert.pem
2022/04/16 05:33:06 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2022/04/16 05:33:06 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/msp/IssuerPublicKey
2022/04/16 05:33:06 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/msp/IssuerRevocationPublicKey
[0;34mRegistering peer0[0m
+ fabric-ca-client register --caname ca-org1 --id.name peer0 --id.secret peer0pw --id.type peer --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org1/tls-cert.pem
2022/04/16 05:33:06 [INFO] Configuration file location: /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:06 [INFO] TLS Enabled
2022/04/16 05:33:06 [INFO] TLS Enabled
Password: peer0pw
[0;34mRegistering user[0m
+ fabric-ca-client register --caname ca-org1 --id.name user1 --id.secret user1pw --id.type client --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org1/tls-cert.pem
2022/04/16 05:33:06 [INFO] Configuration file location: /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:06 [INFO] TLS Enabled
2022/04/16 05:33:06 [INFO] TLS Enabled
Password: user1pw
[0;34mRegistering the org admin[0m
+ fabric-ca-client register --caname ca-org1 --id.name org1admin --id.secret org1adminpw --id.type admin --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org1/tls-cert.pem
2022/04/16 05:33:06 [INFO] Configuration file location: /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:06 [INFO] TLS Enabled
2022/04/16 05:33:06 [INFO] TLS Enabled
Password: org1adminpw
[0;34mGenerating the peer0 msp[0m
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:7054 --caname ca-org1 -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp --csr.hosts peer0.org1.example.com --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org1/tls-cert.pem
2022/04/16 05:33:06 [INFO] TLS Enabled
2022/04/16 05:33:06 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:06 [INFO] encoded CSR
2022/04/16 05:33:07 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/signcerts/cert.pem
2022/04/16 05:33:07 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2022/04/16 05:33:07 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/IssuerPublicKey
2022/04/16 05:33:07 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/IssuerRevocationPublicKey
[0;34mGenerating the peer0-tls certificates[0m
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:7054 --caname ca-org1 -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls --enrollment.profile tls --csr.hosts peer0.org1.example.com --csr.hosts localhost --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org1/tls-cert.pem
2022/04/16 05:33:07 [INFO] TLS Enabled
2022/04/16 05:33:07 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:07 [INFO] encoded CSR
2022/04/16 05:33:07 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/signcerts/cert.pem
2022/04/16 05:33:07 [INFO] Stored TLS root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/tlscacerts/tls-localhost-7054-ca-org1.pem
2022/04/16 05:33:07 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/IssuerPublicKey
2022/04/16 05:33:07 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/IssuerRevocationPublicKey
[0;34mGenerating the user msp[0m
+ fabric-ca-client enroll -u https://user1:user1pw@localhost:7054 --caname ca-org1 -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org1/tls-cert.pem
2022/04/16 05:33:07 [INFO] TLS Enabled
2022/04/16 05:33:07 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:07 [INFO] encoded CSR
2022/04/16 05:33:07 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/signcerts/cert.pem
2022/04/16 05:33:07 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2022/04/16 05:33:07 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/IssuerPublicKey
2022/04/16 05:33:07 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/IssuerRevocationPublicKey
[0;34mGenerating the org admin msp[0m
+ fabric-ca-client enroll -u https://org1admin:org1adminpw@localhost:7054 --caname ca-org1 -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org1/tls-cert.pem
2022/04/16 05:33:07 [INFO] TLS Enabled
2022/04/16 05:33:07 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:07 [INFO] encoded CSR
2022/04/16 05:33:07 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/signcerts/cert.pem
2022/04/16 05:33:07 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2022/04/16 05:33:07 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/IssuerPublicKey
2022/04/16 05:33:07 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/IssuerRevocationPublicKey
[0;34mCreating Org2 Identities[0m
[0;34mEnrolling the CA admin[0m
+ fabric-ca-client enroll -u https://admin:adminpw@localhost:8054 --caname ca-org2 --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org2/tls-cert.pem
2022/04/16 05:33:07 [INFO] Created a default configuration file at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:07 [INFO] TLS Enabled
2022/04/16 05:33:07 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:07 [INFO] encoded CSR
2022/04/16 05:33:07 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/msp/signcerts/cert.pem
2022/04/16 05:33:07 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2022/04/16 05:33:07 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/msp/IssuerPublicKey
2022/04/16 05:33:07 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/msp/IssuerRevocationPublicKey
[0;34mRegistering peer0[0m
+ fabric-ca-client register --caname ca-org2 --id.name peer0 --id.secret peer0pw --id.type peer --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org2/tls-cert.pem
2022/04/16 05:33:07 [INFO] Configuration file location: /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:07 [INFO] TLS Enabled
2022/04/16 05:33:07 [INFO] TLS Enabled
Password: peer0pw
[0;34mRegistering user[0m
+ fabric-ca-client register --caname ca-org2 --id.name user1 --id.secret user1pw --id.type client --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org2/tls-cert.pem
2022/04/16 05:33:07 [INFO] Configuration file location: /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:07 [INFO] TLS Enabled
2022/04/16 05:33:07 [INFO] TLS Enabled
Password: user1pw
[0;34mRegistering the org admin[0m
+ fabric-ca-client register --caname ca-org2 --id.name org2admin --id.secret org2adminpw --id.type admin --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org2/tls-cert.pem
2022/04/16 05:33:07 [INFO] Configuration file location: /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:07 [INFO] TLS Enabled
2022/04/16 05:33:07 [INFO] TLS Enabled
Password: org2adminpw
[0;34mGenerating the peer0 msp[0m
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:8054 --caname ca-org2 -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp --csr.hosts peer0.org2.example.com --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org2/tls-cert.pem
2022/04/16 05:33:08 [INFO] TLS Enabled
2022/04/16 05:33:08 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:08 [INFO] encoded CSR
2022/04/16 05:33:08 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/signcerts/cert.pem
2022/04/16 05:33:08 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2022/04/16 05:33:08 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/IssuerPublicKey
2022/04/16 05:33:08 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/IssuerRevocationPublicKey
[0;34mGenerating the peer0-tls certificates[0m
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:8054 --caname ca-org2 -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls --enrollment.profile tls --csr.hosts peer0.org2.example.com --csr.hosts localhost --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org2/tls-cert.pem
2022/04/16 05:33:08 [INFO] TLS Enabled
2022/04/16 05:33:08 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:08 [INFO] encoded CSR
2022/04/16 05:33:08 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/signcerts/cert.pem
2022/04/16 05:33:08 [INFO] Stored TLS root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/tlscacerts/tls-localhost-8054-ca-org2.pem
2022/04/16 05:33:08 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/IssuerPublicKey
2022/04/16 05:33:08 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/IssuerRevocationPublicKey
[0;34mGenerating the user msp[0m
+ fabric-ca-client enroll -u https://user1:user1pw@localhost:8054 --caname ca-org2 -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org2/tls-cert.pem
2022/04/16 05:33:08 [INFO] TLS Enabled
2022/04/16 05:33:08 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:08 [INFO] encoded CSR
2022/04/16 05:33:08 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/signcerts/cert.pem
2022/04/16 05:33:08 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2022/04/16 05:33:08 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/IssuerPublicKey
2022/04/16 05:33:08 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/IssuerRevocationPublicKey
[0;34mGenerating the org admin msp[0m
+ fabric-ca-client enroll -u https://org2admin:org2adminpw@localhost:8054 --caname ca-org2 -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/org2/tls-cert.pem
2022/04/16 05:33:08 [INFO] TLS Enabled
2022/04/16 05:33:08 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:08 [INFO] encoded CSR
2022/04/16 05:33:08 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/signcerts/cert.pem
2022/04/16 05:33:08 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2022/04/16 05:33:08 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/IssuerPublicKey
2022/04/16 05:33:08 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/IssuerRevocationPublicKey
[0;34mCreating Orderer Org Identities[0m
[0;34mEnrolling the CA admin[0m
+ fabric-ca-client enroll -u https://admin:adminpw@localhost:9054 --caname ca-orderer --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2022/04/16 05:33:08 [INFO] Created a default configuration file at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:08 [INFO] TLS Enabled
2022/04/16 05:33:08 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:08 [INFO] encoded CSR
2022/04/16 05:33:08 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/msp/signcerts/cert.pem
2022/04/16 05:33:08 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/msp/cacerts/localhost-9054-ca-orderer.pem
2022/04/16 05:33:08 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/msp/IssuerPublicKey
2022/04/16 05:33:08 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/msp/IssuerRevocationPublicKey
[0;34mRegistering orderer[0m
+ fabric-ca-client register --caname ca-orderer --id.name orderer --id.secret ordererpw --id.type orderer --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2022/04/16 05:33:08 [INFO] Configuration file location: /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:08 [INFO] TLS Enabled
2022/04/16 05:33:08 [INFO] TLS Enabled
Password: ordererpw
[0;34mRegistering the orderer admin[0m
+ fabric-ca-client register --caname ca-orderer --id.name ordererAdmin --id.secret ordererAdminpw --id.type admin --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2022/04/16 05:33:08 [INFO] Configuration file location: /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/fabric-ca-client-config.yaml
2022/04/16 05:33:08 [INFO] TLS Enabled
2022/04/16 05:33:08 [INFO] TLS Enabled
Password: ordererAdminpw
[0;34mGenerating the orderer msp[0m
+ fabric-ca-client enroll -u https://orderer:ordererpw@localhost:9054 --caname ca-orderer -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp --csr.hosts orderer.example.com --csr.hosts localhost --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2022/04/16 05:33:09 [INFO] TLS Enabled
2022/04/16 05:33:09 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:09 [INFO] encoded CSR
2022/04/16 05:33:09 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/signcerts/cert.pem
2022/04/16 05:33:09 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/cacerts/localhost-9054-ca-orderer.pem
2022/04/16 05:33:09 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/IssuerPublicKey
2022/04/16 05:33:09 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/IssuerRevocationPublicKey
[0;34mGenerating the orderer-tls certificates[0m
+ fabric-ca-client enroll -u https://orderer:ordererpw@localhost:9054 --caname ca-orderer -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls --enrollment.profile tls --csr.hosts orderer.example.com --csr.hosts localhost --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2022/04/16 05:33:09 [INFO] TLS Enabled
2022/04/16 05:33:09 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:09 [INFO] encoded CSR
2022/04/16 05:33:09 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/signcerts/cert.pem
2022/04/16 05:33:09 [INFO] Stored TLS root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/tlscacerts/tls-localhost-9054-ca-orderer.pem
2022/04/16 05:33:09 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/IssuerPublicKey
2022/04/16 05:33:09 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/IssuerRevocationPublicKey
[0;34mGenerating the admin msp[0m
+ fabric-ca-client enroll -u https://ordererAdmin:ordererAdminpw@localhost:9054 --caname ca-orderer -M /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp --tls.certfiles /home/chris/Desktop/net/fabric-samples/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2022/04/16 05:33:09 [INFO] TLS Enabled
2022/04/16 05:33:09 [INFO] generating key: &{A:ecdsa S:256}
2022/04/16 05:33:09 [INFO] encoded CSR
2022/04/16 05:33:09 [INFO] Stored client certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/signcerts/cert.pem
2022/04/16 05:33:09 [INFO] Stored root CA certificate at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/cacerts/localhost-9054-ca-orderer.pem
2022/04/16 05:33:09 [INFO] Stored Issuer public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/IssuerPublicKey
2022/04/16 05:33:09 [INFO] Stored Issuer revocation public key at /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/IssuerRevocationPublicKey
[0;34mGenerating CCP files for Org1 and Org2[0m
/home/chris/Desktop/net/fabric-samples/test-network/../bin/configtxgen
[0;34mGenerating Orderer Genesis block[0m
+ configtxgen -profile TwoOrgsOrdererGenesis -channelID system-channel -outputBlock ./system-genesis-block/genesis.block
[34m2022-04-16 05:33:09.684 PDT [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2022-04-16 05:33:09.706 PDT [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002[0m orderer type: etcdraft
[34m2022-04-16 05:33:09.706 PDT [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003[0m Orderer.EtcdRaft.Options unset, setting to tick_interval:"500ms" election_tick:10 heartbeat_tick:1 max_inflight_blocks:5 snapshot_interval_size:16777216 
[34m2022-04-16 05:33:09.706 PDT [common.tools.configtxgen.localconfig] Load -> INFO 004[0m Loaded configuration: /home/chris/Desktop/net/fabric-samples/test-network/configtx/configtx.yaml
[34m2022-04-16 05:33:09.707 PDT [common.tools.configtxgen] doOutputBlock -> INFO 005[0m Generating genesis block
[34m2022-04-16 05:33:09.708 PDT [common.tools.configtxgen] doOutputBlock -> INFO 006[0m Writing genesis block
+ res=0
Volume "docker_peer0.org2.example.com"  Creating
Volume "docker_peer0.org2.example.com"  Created
Volume "docker_orderer.example.com"  Creating
Volume "docker_orderer.example.com"  Created
Volume "docker_peer0.org1.example.com"  Creating
Volume "docker_peer0.org1.example.com"  Created
time="2022-04-16T05:33:09-07:00" level=warning msg="Found orphan containers ([ca_org2 ca_org1 ca_orderer]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
Container peer0.org1.example.com  Creating
Container orderer.example.com  Creating
Container peer0.org2.example.com  Creating
Container peer0.org1.example.com  Created
Container peer0.org2.example.com  Created
Container cli  Creating
Container orderer.example.com  Created
Container cli  Created
Container peer0.org1.example.com  Starting
Container orderer.example.com  Starting
Container peer0.org2.example.com  Starting
Container orderer.example.com  Started
Container peer0.org1.example.com  Started
Container peer0.org2.example.com  Started
Container cli  Starting
Container cli  Started
CONTAINER ID   IMAGE                               COMMAND                  CREATED         STATUS                  PORTS                                                                                                NAMES
e4a42362ba6a   hyperledger/fabric-tools:latest     "/bin/bash"              2 seconds ago   Up Less than a second                                                                                                        cli
941f72374a9d   hyperledger/fabric-peer:latest      "peer node start"        2 seconds ago   Up Less than a second   0.0.0.0:9051->9051/tcp, :::9051->9051/tcp, 7051/tcp, 0.0.0.0:19051->19051/tcp, :::19051->19051/tcp   peer0.org2.example.com
833b0f9c9b5e   hyperledger/fabric-peer:latest      "peer node start"        2 seconds ago   Up Less than a second   0.0.0.0:7051->7051/tcp, :::7051->7051/tcp, 0.0.0.0:17051->17051/tcp, :::17051->17051/tcp             peer0.org1.example.com
d75c2c2e2568   hyperledger/fabric-orderer:latest   "orderer"                2 seconds ago   Up Less than a second   0.0.0.0:7050->7050/tcp, :::7050->7050/tcp, 0.0.0.0:17050->17050/tcp, :::17050->17050/tcp             orderer.example.com
79bec8fdaf28   hyperledger/fabric-ca:latest        "sh -c 'fabric-ca-seâ€¦"   8 seconds ago   Up 6 seconds            0.0.0.0:8054->8054/tcp, :::8054->8054/tcp, 7054/tcp, 0.0.0.0:18054->18054/tcp, :::18054->18054/tcp   ca_org2
c70399c77855   hyperledger/fabric-ca:latest        "sh -c 'fabric-ca-seâ€¦"   8 seconds ago   Up 6 seconds            0.0.0.0:7054->7054/tcp, :::7054->7054/tcp, 0.0.0.0:17054->17054/tcp, :::17054->17054/tcp             ca_org1
3cfaac3fab9a   hyperledger/fabric-ca:latest        "sh -c 'fabric-ca-seâ€¦"   8 seconds ago   Up 6 seconds            0.0.0.0:9054->9054/tcp, :::9054->9054/tcp, 7054/tcp, 0.0.0.0:19054->19054/tcp, :::19054->19054/tcp   ca_orderer
[0;34mGenerating channel create transaction 'mychannel.tx'[0m
+ configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/mychannel.tx -channelID mychannel
[34m2022-04-16 05:33:11.542 PDT [common.tools.configtxgen] main -> INFO 001[0m Loading configuration
[34m2022-04-16 05:33:11.561 PDT [common.tools.configtxgen.localconfig] Load -> INFO 002[0m Loaded configuration: /home/chris/Desktop/net/fabric-samples/test-network/configtx/configtx.yaml
[34m2022-04-16 05:33:11.561 PDT [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 003[0m Generating new channel configtx
[34m2022-04-16 05:33:11.562 PDT [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 004[0m Writing new channel tx
+ res=0
[0;34mCreating channel mychannel[0m
[0;34mUsing organization 1[0m
+ peer channel create -o localhost:7050 -c mychannel --ordererTLSHostnameOverride orderer.example.com -f ./channel-artifacts/mychannel.tx --outputBlock ./channel-artifacts/mychannel.block --tls --cafile /home/chris/Desktop/net/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ res=0
[34m2022-04-16 05:33:14.656 PDT [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2022-04-16 05:33:14.677 PDT [cli.common] readBlock -> INFO 002[0m Expect block, but got status: &{NOT_FOUND}
[34m2022-04-16 05:33:14.680 PDT [channelCmd] InitCmdFactory -> INFO 003[0m Endorser and orderer connections initialized
[34m2022-04-16 05:33:14.885 PDT [cli.common] readBlock -> INFO 004[0m Expect block, but got status: &{SERVICE_UNAVAILABLE}
[34m2022-04-16 05:33:14.890 PDT [channelCmd] InitCmdFactory -> INFO 005[0m Endorser and orderer connections initialized
[34m2022-04-16 05:33:15.093 PDT [cli.common] readBlock -> INFO 006[0m Expect block, but got status: &{SERVICE_UNAVAILABLE}
[34m2022-04-16 05:33:15.101 PDT [channelCmd] InitCmdFactory -> INFO 007[0m Endorser and orderer connections initialized
[34m2022-04-16 05:33:15.304 PDT [cli.common] readBlock -> INFO 008[0m Expect block, but got status: &{SERVICE_UNAVAILABLE}
[34m2022-04-16 05:33:15.309 PDT [channelCmd] InitCmdFactory -> INFO 009[0m Endorser and orderer connections initialized
[34m2022-04-16 05:33:15.512 PDT [cli.common] readBlock -> INFO 00a[0m Expect block, but got status: &{SERVICE_UNAVAILABLE}
[34m2022-04-16 05:33:15.525 PDT [channelCmd] InitCmdFactory -> INFO 00b[0m Endorser and orderer connections initialized
[34m2022-04-16 05:33:15.730 PDT [cli.common] readBlock -> INFO 00c[0m Received block: 0
[0;32mChannel 'mychannel' created[0m
[0;34mJoining org1 peer to the channel...[0m
[0;34mUsing organization 1[0m
+ peer channel join -b ./channel-artifacts/mychannel.block
+ res=0
[34m2022-04-16 05:33:18.843 PDT [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2022-04-16 05:33:18.880 PDT [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[0;34mJoining org2 peer to the channel...[0m
[0;34mUsing organization 2[0m
+ peer channel join -b ./channel-artifacts/mychannel.block
+ res=0
[34m2022-04-16 05:33:21.979 PDT [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2022-04-16 05:33:22.009 PDT [channelCmd] executeJoin -> INFO 002[0m Successfully submitted proposal to join channel
[0;34mSetting anchor peer for org1...[0m
[0;34mUsing organization 1[0m
[0;34mFetching channel config for channel mychannel[0m
[0;34mUsing organization 1[0m
+ peer channel fetch config config_block.pb -o orderer.example.com:7050 --ordererTLSHostnameOverride orderer.example.com -c mychannel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[0;34mFetching the most recent configuration block for the channel[0m
[34m2022-04-16 12:33:22.266 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2022-04-16 12:33:22.274 UTC [cli.common] readBlock -> INFO 002[0m Received block: 0
[34m2022-04-16 12:33:22.274 UTC [channelCmd] fetch -> INFO 003[0m Retrieving last config block: 0
[34m2022-04-16 12:33:22.276 UTC [cli.common] readBlock -> INFO 004[0m Received block: 0
[0;34mDecoding config block to JSON and isolating config to Org1MSPconfig.json[0m
+ configtxlator proto_decode --input config_block.pb --type common.Block
+ jq '.data.data[0].payload.data.config'
+ jq '.channel_group.groups.Application.groups.Org1MSP.values += {"AnchorPeers":{"mod_policy": "Admins","value":{"anchor_peers": [{"host": "peer0.org1.example.com","port": 7051}]},"version": "0"}}' Org1MSPconfig.json
[0;34mGenerating anchor peer update transaction for Org1 on channel mychannel[0m
+ configtxlator proto_encode --input Org1MSPconfig.json --type common.Config
+ configtxlator proto_encode --input Org1MSPmodified_config.json --type common.Config
+ configtxlator compute_update --channel_id mychannel --original original_config.pb --updated modified_config.pb
+ configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate
+ jq .
++ cat config_update.json
+ echo '{"payload":{"header":{"channel_header":{"channel_id":"mychannel", "type":2}},"data":{"config_update":{' '"channel_id":' '"mychannel",' '"isolated_data":' '{},' '"read_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org1MSP":' '{' '"groups":' '{},' '"mod_policy":' '"",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"0"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '},' '"write_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org1MSP":' '{' '"groups":' '{},' '"mod_policy":' '"Admins",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"AnchorPeers":' '{' '"mod_policy":' '"Admins",' '"value":' '{' '"anchor_peers":' '[' '{' '"host":' '"peer0.org1.example.com",' '"port":' 7051 '}' ']' '},' '"version":' '"0"' '},' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '}' '}}}}'
+ configtxlator proto_encode --input config_update_in_envelope.json --type common.Envelope
[34m2022-04-16 12:33:22.604 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2022-04-16 12:33:22.616 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[0;32mAnchor peer set for org 'Org1MSP' on channel 'mychannel'[0m
[0;34mSetting anchor peer for org2...[0m
[0;34mUsing organization 2[0m
[0;34mFetching channel config for channel mychannel[0m
[0;34mUsing organization 2[0m
[0;34mFetching the most recent configuration block for the channel[0m
+ peer channel fetch config config_block.pb -o orderer.example.com:7050 --ordererTLSHostnameOverride orderer.example.com -c mychannel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
[34m2022-04-16 12:33:22.844 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2022-04-16 12:33:22.847 UTC [cli.common] readBlock -> INFO 002[0m Received block: 1
[34m2022-04-16 12:33:22.847 UTC [channelCmd] fetch -> INFO 003[0m Retrieving last config block: 1
[34m2022-04-16 12:33:22.850 UTC [cli.common] readBlock -> INFO 004[0m Received block: 1
[0;34mDecoding config block to JSON and isolating config to Org2MSPconfig.json[0m
+ configtxlator proto_decode --input config_block.pb --type common.Block
+ jq '.data.data[0].payload.data.config'
+ jq '.channel_group.groups.Application.groups.Org2MSP.values += {"AnchorPeers":{"mod_policy": "Admins","value":{"anchor_peers": [{"host": "peer0.org2.example.com","port": 9051}]},"version": "0"}}' Org2MSPconfig.json
[0;34mGenerating anchor peer update transaction for Org2 on channel mychannel[0m
+ configtxlator proto_encode --input Org2MSPconfig.json --type common.Config
+ configtxlator proto_encode --input Org2MSPmodified_config.json --type common.Config
+ configtxlator compute_update --channel_id mychannel --original original_config.pb --updated modified_config.pb
+ configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate
++ + jq cat .
config_update.json
+ echo '{"payload":{"header":{"channel_header":{"channel_id":"mychannel", "type":2}},"data":{"config_update":{' '"channel_id":' '"mychannel",' '"isolated_data":' '{},' '"read_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org2MSP":' '{' '"groups":' '{},' '"mod_policy":' '"",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"0"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '},' '"write_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org2MSP":' '{' '"groups":' '{},' '"mod_policy":' '"Admins",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"AnchorPeers":' '{' '"mod_policy":' '"Admins",' '"value":' '{' '"anchor_peers":' '[' '{' '"host":' '"peer0.org2.example.com",' '"port":' 9051 '}' ']' '},' '"version":' '"0"' '},' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '}' '}}}}'
+ configtxlator proto_encode --input config_update_in_envelope.json --type common.Envelope
[34m2022-04-16 12:33:23.085 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
[34m2022-04-16 12:33:23.095 UTC [channelCmd] update -> INFO 002[0m Successfully submitted channel update
[0;32mAnchor peer set for org 'Org2MSP' on channel 'mychannel'[0m
[0;32mChannel 'mychannel' joined[0m
